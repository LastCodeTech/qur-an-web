<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://kit.fontawesome.com/39c5fdd9a0.js" crossorigin="anonymous"></script>
    <link href="../css/style.css" rel="stylesheet">
</head>
<body class="bg-[#f4f1e9] font-english">
    <!--main navbar-->
        <div class="hidden main-navBar md:flex  items-center justify-between font-english px-8 py-1 bg-gradient-to-r from-[#0f5132] via-[#198754] to-[#0f5132] text-white fixed top-0 left-0 right-0">
            <div class="block ">
                <img src="../images/new_quran_logo-removebg-preview.png" class="h-20 w-25">
                <h2 class="text-2xl font-bold capitalize tracking-widest">AyahFlow</h2>
            </div>
            <ul class="items-center flex gap-10">
                <li><div class="flex flex-row items-center gap-1"><i class="fa-solid fa-house text-2xl"></i> <h2 class="text-2xl font-thin capitalize"><a href="home.html">home</a> </h2></div></li>
                <li><div class="flex flex-row items-center gap-1"><i class="fa-solid fa-book-open text-2xl"></i><h2 class="text-2xl font-thin capitalize"><a href="read quran.html">Read qur'an</a></h2></div> </li>
                <li><div class="flex flex-row items-center gap-1"><i class="fa-solid fa-person-chalkboard text-2xl"></i><h2 class="text-2xl font-thin capitalize"><a href="reciters.html">reciters</a>   </h2></div></li>
            </ul>
        </div>
       
      <!-- sm device top nav bar -->
        <div class="font-english px-4 py-1 bg-gradient-to-r from-[#0f5132] via-[#198754] to-[#0f5132] text-white fixed top-0 left-0 right-0">
             <div class="flex md:hidden items-center justify-between ">
                <img src="../images/new_quran_logo-removebg-preview.png" class="h-15 w-20">
                <h2 class="text-2xl font-bold capitalize tracking-widest">AyahFlow</h2>
            </div>
        </div>
        <!--sm device down nav bar-->
        <div class="md:hidden py-2 bg-gradient-to-r from-[#0f5132] via-[#198754] to-[#0f5132] text-white fixed bottom-0 left-0 right-0">
            <ul class="items-center md:hidden flex justify-evenly gap-10">
                <li><div class="flex flex-col items-center gap-1"><i class="fa-solid fa-house text-xl"></i> <h2 class="text-xl font-thin capitalize"><a href="home.html">home</a> </h2></div></li>
                <li><div class="flex flex-col items-center gap-1"><i class="fa-solid fa-book-open text-xl"></i><h2 class="text-xl font-thin capitalize"><a href="read quran.html">Read qur'an</a> </h2></div> </li>
                <li><div class="flex flex-col items-center gap-1"><i class="fa-solid fa-person-chalkboard text-xl"></i><h2 class="text-xl font-thin capitalize"><a href="reciters.html">reciters</a> </h2></div></li>
            </ul>
        </div>

       
    <div class="p-5 mt-10 md:mt-25 mb-20">
    <div id="surahInfo" class="text-center mt-6"></div>
    <div id="ayahContainer" class="mt-8 space-y-4 bg-yellow-50 p-3">
        <div class=>
        <div class="flex justify-end"><h2 class="text-xl mb-2 text-emerald-700 font-arabic">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ"</h2></div>
        <div class="flex justify-start"><h2 class="text-xl mb-2 text-red-600 font-arabic">In the name of Allah, the Entirely Merciful, the Especially Merciful.</h2></div></div>
    </div>
  </div>
  <div id="loading" class="loading flex justify-center items-center  text-emerald-500 text-2xl font-thin"></div>


        <!-- <script src="../js/interactivity.js"> </script> -->
        <script>
              document.addEventListener('DOMContentLoaded',function(){
    let url = window.location.href;
    
    const index = new URLSearchParams(window.location.search);

    
    let realIndex = index.get('seq');
    console.log(realIndex);
    const surahInfo = document.getElementById('surahInfo');
    const ayahContainer = document.getElementById('ayahContainer');

let link ='https://staticquran.vercel.app/api/v1/surah/' + realIndex 
let loading = document.getElementById('loading');
      //  .textContent=content,setTimeout(closeToast,6000) ;
      function hideLoading(){
 loading.classList.add('hidden')
      }
loading.textContent='loading.... pls wait',setTimeout(hideLoading,3000);


 async function getSurah(){
    const response = await fetch(link);
    const result = await response.json();
    // console.log(result);
    surahInfo.innerHTML=
    
    // <h2 class='text-2xl md:text-3xl font-semi-bold font-arabic mb-2 md:mb-5'>${result.data.preBismillah.text}</h2>
    `
    <h2 class='text-2xl md:text-3xl font-semi-bold text-red-600  font-arabic mt-3'>${result.data.name.arabic.long}</h2>
    <h3 class='text-md md:text-xl font-thin text-emerald-700  mt-2 md:mt-3'>${result.data.name.latin.long} (${result.data.translation})</h3>
    `
    // ayahContainer.innerHTML=`
    // <div >
    //     <div class='flex justify-end w-full'><h2 class='text-base font-thin'>${result.data.preBismillah.text}</h2></div>
    //     <div class='flex justify-start w-full'><h2 class='text-base font-thin'>${result.data.preBismillah.translation}</h2></div></div>
    //     `
    const ayahs =result.data.ayah;
    let quranAyah = "";
    let quranTranslation = "";
    const ayahCard = document.createElement('div');
  

    for(let x = 0; x < ayahs.length; x++){ 
        quranAyah +="<div  class='flex justify-end  text-xl mb-2 text-emerald-700 font-arabic'>"+ayahs[x].text + " </div> "+ "<div class='text-red-600 '>"+ ayahs[x].translation +"</div>" ;
        
    }
 ayahCard.className='bg-yellow-50 rounded-2xl p-3';
       ayahCard.innerHTML=`
        <div class='flex justify-start w-full'><h2 class='text-base font-thin '>${quranAyah}</h2></div>
        `


    ayahContainer.appendChild(ayahCard)
    
 }
  getSurah();
   
  })
        </script>
</body>
</html>